{"version":3,"sources":["materials/List/ListItem.js","materials/List/List.js","materials/MenuAccordion/Chevron.js","materials/MenuAccordion/MenuAccordion.js","components/DashBoard/SidePanel.js"],"names":["ListItem","children","onClick","className","List","Chevron","props","height","width","xmlns","viewBox","fill","d","MenuAccordion","useState","setActive","setActiveState","setHeight","setHeightState","setRotate","setRotateState","content","useRef","React","useEffect","defaultOpen","setTimeout","current","scrollHeight","kanban","id","disabled","e","stopPropagation","title","ref","style","maxHeight","SidePanel","useContext","Context","currentProject","clients","setClients","projects","setProjects","currentClient","setSelectedEvents","user","useQuery","GET_ALL_CLIENTS","variables","userId","onCompleted","data","getAllClients","FIND_PROJECTS_BY_CLIENT_ID","clientId","findProjectsByClientId","navElements","name","NavItem","comp","navigate","useNavigate","ProjectItem","ClientItem","map","i"],"mappings":"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","file":"static/js/8.3801f2e7.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./List.scss\";\n\nconst ListItem = ({ children, onClick }) => {\n  return (\n    <li onClick={onClick} className={`list-item`}>\n      {children}\n    </li>\n  );\n};\n\nexport default ListItem;\n","import React from \"react\";\nimport \"./List.scss\";\n\nconst List = ({ children }) => {\n  return <ul className=\"list\">{children}</ul>;\n};\n\nexport default List;\n","import React from \"react\";\n\nfunction Chevron(props) {\n  return (\n    <svg\n      className={props.className}\n      height={props.height}\n      width={props.width}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 320 512\"\n    >\n      <path\n        fill={props.fill}\n        d=\"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z\"\n      />\n    </svg>\n  );\n}\n\nexport default Chevron;","import React, { useState, useRef } from \"react\";\nimport Chevron from \"./Chevron\";\n\nimport \"./MenuAccordion.scss\";\n\nfunction MenuAccordion(props) {\n  const [setActive, setActiveState] = useState(\"\");\n  const [setHeight, setHeightState] = useState(\"0px\");\n  const [setRotate, setRotateState] = useState(\"accordion__menu__icon\");\n\n  const content = useRef(null);\n\n  function toggleAccordion(e) {\n    e.stopPropagation();\n    setActiveState(setActive === \"\" ? \"active\" : \"\");\n    if (props.kanban) setHeightState(setActive === \"active\" ? \"0px\" : `80vh`);\n    else\n      setHeightState(\n        setActive === \"active\" ? \"0px\" : `${content.current.scrollHeight}px`\n      );\n    setRotateState(\n      setActive === \"active\"\n        ? \"accordion__menu__icon\"\n        : \"accordion__menu__icon rotate\"\n    );\n  }\n\n  React.useEffect(\n    () => {\n      if (props.defaultOpen) {\n        setTimeout(() => {\n          setActiveState(setActive === \"\" ? \"active\" : \"\");\n          setHeightState(\n            setActive === \"active\"\n              ? \"0px\"\n              : `${content?.current?.scrollHeight}px`\n          );\n          setRotateState(\n            setActive === \"active\"\n              ? \"accordion__menu__icon\"\n              : \"accordion__menu__icon rotate\"\n          );\n        }, 300);\n      }\n      return () => {\n        setActiveState(\"\"); // This worked for me\n        setRotateState('\"accordion__menu__icon\"');\n        setHeightState(\"0px\");\n      };\n    },\n    // eslint-disable-next-line\n    [props.kanban, props.defaultOpen]\n  );\n  return (\n    <div className=\"accordion__menu__section\" id={props?.id}>\n      <div\n        disabled={props.disabled}\n        className={`accordion__menu ${setActive}`}\n        onClick={toggleAccordion}\n      >\n        <div className=\"accordion__menu__title\">{props.title}</div>\n        <Chevron\n          className={`${setRotate}`}\n          width={10}\n          fill={\"var(--main-color)\"}\n        />\n      </div>\n      <div\n        ref={content}\n        style={{ maxHeight: `${setHeight}` }}\n        className=\"accordion__menu__content\"\n      >\n        <div className=\"accordion__menu__text\">{props.content}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default MenuAccordion;\n","import React from \"react\";\nimport ListItem from \"../../materials/List/ListItem\";\nimport List from \"../../materials/List/List\";\nimport { Context } from \"../Context/Context\";\nimport { useNavigate } from \"react-router\";\nimport MenuAccordion from \"../../materials/MenuAccordion/MenuAccordion\";\nimport { useQuery } from \"@apollo/client\";\nimport {\n  GET_ALL_CLIENTS,\n  FIND_PROJECTS_BY_CLIENT_ID,\n} from \"../../graphql/queries\";\nimport \"./DashBoard.scss\";\nconst SidePanel = () => {\n  const {\n    currentProject,\n    clients,\n    setClients,\n    projects,\n    setProjects,\n    currentClient,\n    setSelectedEvents,\n    user,\n  } = React.useContext(Context);\n  useQuery(GET_ALL_CLIENTS, {\n    variables: { userId: user?.id },\n    onCompleted: (data) => {\n      setClients(data?.getAllClients);\n    },\n  });\n  useQuery(FIND_PROJECTS_BY_CLIENT_ID, {\n    variables: { clientId: currentClient?.id, userId: user?.id },\n    onCompleted: (data) => {\n      if (currentClient) {\n        setProjects(data?.findProjectsByClientId);\n      } else {\n        setProjects([]);\n      }\n    },\n  });\n  const navElements = [\n    { id: \"global\", name: \"Status global\" },\n    { id: \"actions\", name: \"Actions\" },\n    { id: \"infos\", name: \"Infos\" },\n    { id: \"decisions\", name: \"Décisions\" },\n    { id: \"risks\", name: \"Risques\" },\n    { id: \"problems\", name: \"Problèmes\" },\n    { id: \"deliverables\", name: \"Livrables\" },\n  ];\n\n  const NavItem = ({ comp, id }) => {\n    const navigate = useNavigate();\n    return (\n      <ListItem\n        id={id}\n        onClick={() => {\n          setSelectedEvents([]);\n          navigate(`/project/${currentProject?.id}/${comp?.id}`);\n        }}\n      >\n        <span>{comp?.name}</span>\n      </ListItem>\n    );\n  };\n  const ProjectItem = ({ comp, id }) => {\n    const navigate = useNavigate();\n    return (\n      <ListItem id={id} onClick={() => navigate(`/project/${comp?.id}/global`)}>\n        <span>{comp?.name}</span>\n      </ListItem>\n    );\n  };\n  const ClientItem = ({ comp, id }) => {\n    const navigate = useNavigate();\n    return (\n      <ListItem id={id} onClick={() => navigate(`/client/${comp?.id}`)}>\n        <span>{comp?.name}</span>\n      </ListItem>\n    );\n  };\n  const EventsNav = () => {\n    return (\n      <List>\n        {navElements?.map((comp, i) => (\n          <NavItem key={i} comp={comp} id={comp.id} />\n        ))}\n      </List>\n    );\n  };\n  const ProjectsNav = () => {\n    return (\n      <List>\n        {projects?.map((comp, i) => (\n          <ProjectItem key={i} comp={comp} id={comp.id} />\n        ))}\n      </List>\n    );\n  };\n  const ClientsNav = () => {\n    return (\n      <List>\n        {clients?.map((comp, i) => (\n          <ClientItem key={i} comp={comp} id={comp.id} />\n        ))}\n      </List>\n    );\n  };\n  return (\n    <div className=\"sticky__side__nav\">\n      {currentProject && (\n        <MenuAccordion defaultOpen title={\"Évènements\"} content={EventsNav()} />\n      )}\n      {currentClient && (\n        <MenuAccordion defaultOpen title={\"Projets\"} content={ProjectsNav()} />\n      )}\n      <MenuAccordion defaultOpen title={\"Clients\"} content={ClientsNav()} />\n    </div>\n  );\n};\n\nexport default SidePanel;\n"],"sourceRoot":""}