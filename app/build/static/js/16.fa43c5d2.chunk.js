(this.webpackJsonpmaterials=this.webpackJsonpmaterials||[]).push([[16],{1916:function(e,t,a){},2032:function(e,t,a){"use strict";a.r(t);var n=a(100),r=a.n(n),c=a(131),i=a(13),s=a(2),o=a.n(s),l=a(32),d=a(10),u=a(78),j=(a(1916),a(1)),b=function(e){var t=e.project,a=Object(d.g)();return Object(j.jsxs)("div",{onClick:function(){a("/project/".concat(null===t||void 0===t?void 0:t.id,"/global"))},className:"project__item",children:[Object(j.jsx)("div",{className:"project__item__name__container",children:Object(j.jsx)("p",{children:null===t||void 0===t?void 0:t.name})}),Object(j.jsx)("i",{className:"gg-chevron-right"})]})},p=a(77),_=a(135),m=a(53),v=a(132),h=a(1853),g=a(1858),x=a(133),O=a(46),f=a(18),C=a(55),y=a(64),k=a.n(y);f.f.register(f.e,f.k,f.c,f.q,f.r,f.h);var N={maintainAspectRatio:!1,responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Chart.js Bar Chart"}}},w=["January","February","March","April","May","June","July"],B={labels:w,datasets:[{label:"Dataset 1",data:w.map((function(){return k.a.datatype.number({min:0,max:1e3})})),backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Dataset 2",data:w.map((function(){return k.a.datatype.number({min:0,max:1e3})})),backgroundColor:"rgba(53, 162, 235, 0.5)"}]};function I(){return Object(j.jsx)(C.a,{options:N,data:B,width:400})}f.f.register(f.e,f.k,f.m,f.j,f.q,f.r,f.h);var P={maintainAspectRatio:!1,responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Chart.js Line Chart"}}},J=["January","February","March","April","May","June","July"],A={labels:J,datasets:[{label:"Dataset 1",data:J.map((function(){return k.a.datatype.number({min:-1e3,max:1e3})})),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Dataset 2",data:J.map((function(){return k.a.datatype.number({min:-1e3,max:1e3})})),borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]};function D(){return Object(j.jsx)(C.b,{options:P,data:A,width:400})}f.f.register(f.a,f.r,f.h);var M={labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};function H(){return Object(j.jsx)(C.c,{data:M})}t.default=function(){var e,t,a,n=o.a.useContext(l.a),s=n.currentClient,f=n.setCurrentClient,C=n.user,y=o.a.useState(""),k=Object(i.a)(y,2),N=k[0],w=k[1],B=o.a.useState(!1),P=Object(i.a)(B,2),J=P[0],A=P[1],M=Object(d.g)(),S=Object(d.h)().id,F=Object(h.a)(m.a,{variables:{id:S},onCompleted:function(e){f(null===e||void 0===e?void 0:e.findClientById)}}),L=Object(h.a)(m.c,{variables:{clientId:S,userId:null===C||void 0===C?void 0:C.id}}),R=L.data,T=L.refetch,q=L.loading,E=Object(g.a)(v.j),G=Object(i.a)(E,1)[0],V=o.a.useState(!1),K=Object(i.a)(V,2),W=K[0],Y=K[1];o.a.useEffect((function(){s&&(document.getElementById("title").innerHTML="".concat(null===s||void 0===s?void 0:s.name," | Kifekoi"))}),[null===s||void 0===s?void 0:s.name,s]);var z=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,a=S,""!==N){e.next=5;break}return e.abrupt("return",O.c.warning("Le projet doit avoir un nom.",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0}));case 5:return n=[C.id],e.next=8,G({variables:{name:N,clientId:a,contributors:n}});case 8:c=e.sent,O.c.success("".concat(N," a \xe9t\xe9 cr\xe9\xe9 pour ").concat(null===s||void 0===s?void 0:s.name,"."),{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0}),W&&(i=c.data.createProject.id,M("/project/".concat(i))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),O.c.error("Impossible de cr\xe9er le projet.",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0});case 16:setTimeout((function(){T()}),200),w(""),A(!1);case 19:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return F.data||F.loading?q?Object(j.jsx)("div",{style:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(j.jsx)(u.a,{})}):Object(j.jsxs)("div",{className:"client",children:[Object(j.jsxs)("div",{className:"client__container",children:[Object(j.jsxs)("div",{className:"client__projects__container",children:[Object(j.jsxs)("h1",{className:"client__projects__container__title",children:[null===s||void 0===s?void 0:s.name," - Projets"]}),Object(j.jsx)("div",{className:"client__projects__container__spacer"}),Object(j.jsxs)("div",{className:"client__projects__container__list",children:[0===(null===R||void 0===R||null===(e=R.findProjectsByClientId)||void 0===e?void 0:e.length)&&Object(j.jsx)("h4",{className:"client__projects__container__title",children:"Aucun projet."}),0!==(null===R||void 0===R||null===(t=R.findProjectsByClientId)||void 0===t?void 0:t.length)&&(null===R||void 0===R||null===(a=R.findProjectsByClientId)||void 0===a?void 0:a.map((function(e,t){return Object(j.jsx)(b,{project:e},t)})))]})]}),Object(j.jsxs)("div",{className:"client__new__clients__container",children:[Object(j.jsx)("h1",{className:"client__projects__container__title",children:"Nouveau projet"}),Object(j.jsx)("div",{className:"client__projects__container__spacer"}),Object(j.jsx)(p.a,{onClick:function(){return A(!0)},style:{marginTop:"10px"},children:"Cr\xe9er un nouveau projet +"})]}),Object(j.jsx)(x.a,{open:J,setOpen:A,onSubmit:z,children:Object(j.jsxs)("form",{className:"modal__content__container",children:[Object(j.jsx)("input",{autoFocus:!0,className:"name__input medium__title__textarea",value:N,placeholder:"Comment s'appelle le projet ?",onChange:function(e){return w(e.target.value)}})," ",Object(j.jsxs)("div",{className:"checkbox__container",children:[Object(j.jsx)(_.a,{checked:W,setChecked:Y})," ",Object(j.jsx)("span",{children:"Aller sur la page projet apr\xe8s la cr\xe9ation"})]}),Object(j.jsxs)("div",{style:{display:"flex",gap:"6px"},children:[Object(j.jsx)(p.a,{type:"button",style:{height:"30px"},reversed:!0,onClick:function(){return A(!1)},children:"Annuler"}),Object(j.jsx)(p.a,{style:{height:"30px"},onClick:z,type:"submit",children:"Valider"})]})]})})]}),Object(j.jsxs)("div",{className:"chart__container",children:[Object(j.jsx)("div",{className:"chart__item",children:Object(j.jsx)(I,{})}),Object(j.jsx)("div",{className:"chart__item",children:Object(j.jsx)(D,{})}),Object(j.jsx)("div",{className:"chart__item",children:Object(j.jsx)(H,{})})]})]}):Object(j.jsx)(d.a,{to:"/404"})}}}]);
//# sourceMappingURL=16.fa43c5d2.chunk.js.map