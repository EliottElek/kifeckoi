{"version":3,"sources":["assets/images/icon.png","materials/InputText/InputText.js","components/SignUp/SignUp.js"],"names":["InputText","value","className","onChange","placeHolder","label","style","number","max","type","min","disabled","placeholder","onClick","e","stopPropagation","SignUp","auth","React","useContext","Context","navigate","useNavigate","useState","email","setEmail","password","setPassword","verifpassword","setVerifpassword","firstname","setFirstname","lastname","setLastname","username","setUsername","useMutation","CREATE_USER","createUser","to","handleLogin","a","preventDefault","toast","warning","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","variables","avatarUrl","response","data","successful","localStorage","setItem","token","window","location","reload","error","message","src","logo","alt","onSubmit","icon","target","margin","padding","alignSelf","marginTop"],"mappings":"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","file":"static/js/9.6676d6d3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/icon.3c32890b.png\";","import \"./InputText.scss\";\nconst InputText = ({\n  value,\n  className,\n  onChange,\n  placeHolder,\n  label,\n  style,\n  number,\n  max,\n  type,\n  min,\n  disabled,\n}) => {\n  if (number)\n    return (\n      <div className=\"input__text__container\">\n        <p className=\"input__text__label\">{label}</p>\n        <input\n          disabled={disabled}\n          type=\"number\"\n          max={max}\n          min={min}\n          className={\n            disabled\n              ? `input__text disabled__input ${className}`\n              : `nput__text ${className}`\n          }\n          value={value}\n          onChange={onChange}\n          placeholder={placeHolder}\n          style={style}\n        />\n      </div>\n    );\n  return (\n    <div className=\"input__text__container\">\n      <p className=\"input__text__label\">{label}</p>\n      <input\n        onClick={(e) => {\n          e.stopPropagation();\n        }}\n        type={type}\n        disabled={disabled}\n        className={disabled ? \"input__text disabled__input\" : \"input__text\"}\n        value={value}\n        onChange={onChange}\n        placeholder={placeHolder}\n        style={style}\n      />\n    </div>\n  );\n};\n\nexport default InputText;\n","import { useMutation } from \"@apollo/client\";\nimport React from \"react\";\nimport { Navigate, useNavigate } from \"react-router\";\nimport logo from \"../../assets/images/logo.png\";\nimport icon from \"../../assets/images/icon.png\";\nimport { CREATE_USER } from \"../../graphql/mutations\";\nimport Button from \"../../materials/Button/Button\";\nimport InputText from \"../../materials/InputText/InputText\";\nimport { Context } from \"../Context/Context\";\nimport { toast } from \"react-toastify\";\nimport \"../Login/Login.scss\";\nconst SignUp = () => {\n  const { auth } = React.useContext(Context);\n  const navigate = useNavigate();\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [verifpassword, setVerifpassword] = React.useState(\"\");\n  const [firstname, setFirstname] = React.useState(\"\");\n  const [lastname, setLastname] = React.useState(\"\");\n  const [username, setUsername] = React.useState(\"\");\n\n  const [createUser] = useMutation(CREATE_USER);\n  if (auth) return <Navigate to={-1} />;\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (\n      email === \"\" ||\n      password === \"\" ||\n      username === \"\" ||\n      lastname === \"\" ||\n      firstname === \"\" ||\n      verifpassword === \"\"\n    )\n      return toast.warning(\"Tous les champs doivent être remplis.\", {\n        position: \"bottom-left\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        progress: undefined,\n      });\n    if (password !== verifpassword)\n      return toast.warning(\"Les mots de passe ne correspondent pas.\", {\n        position: \"bottom-left\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        progress: undefined,\n      });\n    try {\n      const response = await createUser({\n        variables: {\n          email: email,\n          password: password,\n          firstname: firstname,\n          lastname: lastname,\n          username: username,\n          avatarUrl: \"\",\n        },\n      });\n      if (response.data.createUser.successful) {\n        localStorage.setItem(\"token\", response.data.createUser.token);\n        window.location.reload();\n      } else {\n        toast.error(response.data.createUser.message, {\n          position: \"bottom-left\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: false,\n          draggable: false,\n          progress: undefined,\n        });\n      }\n    } catch (err) {\n      toast.warning(\"Une erreur au niveau du serveur est survenue.\", {\n        position: \"bottom-left\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        progress: undefined,\n      });\n    }\n  };\n  return (\n    <div className=\"signup__container\">\n      <div className=\"logo__container\">\n        <img\n          onClick={() => {\n            navigate(`/`);\n          }}\n          src={logo}\n          alt=\"\"\n          className=\"logo__kifekoi\"\n        />\n      </div>\n      <form className=\"login__card\" onSubmit={handleLogin}>\n        <div className={\"top__login__card\"}>\n          <h1 className={\"top__login__card__logocontainer\"}>\n            <img src={icon} className=\"logo__kifekoi\" alt=\"\" /> Kifekoi\n          </h1>\n          <h3>Créez votre compte Kifekoi.</h3>\n          <span className=\"top__login__already__account\">\n            Si vous avez déjà un compte,{\" \"}\n            <button\n              type=\"button\"\n              className=\"login__btn\"\n              onClick={() => navigate(\"/login\")}\n            >\n              connectez-vous.{\" \"}\n            </button>\n          </span>\n          <div className=\"firstname__lastname__container\">\n            <InputText\n              placeHolder=\"Votre prénom...\"\n              label=\"Prénom\"\n              value={firstname}\n              onChange={(e) => setFirstname(e.target.value)}\n            />\n            <InputText\n              placeHolder=\"Votre nom...\"\n              label=\"Nom\"\n              value={lastname}\n              onChange={(e) => setLastname(e.target.value)}\n            />\n          </div>\n          <InputText\n            placeHolder=\"Votre email...\"\n            label=\"Email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          <InputText\n            placeHolder=\"Votre pseudo...\"\n            label=\"Pseudo\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n          <InputText\n            placeHolder=\"Votre mot de passe...\"\n            label=\"Mot de passe\"\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          <InputText\n            placeHolder=\"Vérifiez votre mot de passe...\"\n            label=\"Mot de passe de vérification\"\n            type=\"password\"\n            value={verifpassword}\n            onChange={(e) => setVerifpassword(e.target.value)}\n          />\n        </div>\n        <Button\n          type={\"submit\"}\n          style={{\n            margin: \"10px\",\n            padding: \"14px 40px\",\n            alignSelf: \"flex-end\",\n            marginTop: \"40px\",\n          }}\n          onClick={handleLogin}\n        >\n          Créer le compte\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nexport default SignUp;\n"],"sourceRoot":""}