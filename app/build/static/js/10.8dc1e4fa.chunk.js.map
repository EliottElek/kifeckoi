{"version":3,"sources":["materials/InputText/InputText.js","components/Login/Login.js"],"names":["InputText","value","className","onChange","placeHolder","label","style","number","max","type","min","disabled","placeholder","onClick","e","stopPropagation","Login","auth","React","useContext","Context","navigate","useNavigate","useState","email","setEmail","password","setPassword","useMutation","LOGIN","login","to","handleLogin","a","preventDefault","toast","warning","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","variables","response","data","successful","localStorage","setItem","token","window","location","href","error","message","src","logo","alt","onSubmit","target","width","padding"],"mappings":"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","file":"static/js/10.8dc1e4fa.chunk.js","sourcesContent":["import \"./InputText.scss\";\nconst InputText = ({\n  value,\n  className,\n  onChange,\n  placeHolder,\n  label,\n  style,\n  number,\n  max,\n  type,\n  min,\n  disabled,\n}) => {\n  if (number)\n    return (\n      <div className=\"input__text__container\">\n        <p className=\"input__text__label\">{label}</p>\n        <input\n          disabled={disabled}\n          type=\"number\"\n          max={max}\n          min={min}\n          className={\n            disabled\n              ? `input__text disabled__input ${className}`\n              : `nput__text ${className}`\n          }\n          value={value}\n          onChange={onChange}\n          placeholder={placeHolder}\n          style={style}\n        />\n      </div>\n    );\n  return (\n    <div className=\"input__text__container\">\n      <p className=\"input__text__label\">{label}</p>\n      <input\n        onClick={(e) => {\n          e.stopPropagation();\n        }}\n        type={type}\n        disabled={disabled}\n        className={disabled ? \"input__text disabled__input\" : \"input__text\"}\n        value={value}\n        onChange={onChange}\n        placeholder={placeHolder}\n        style={style}\n      />\n    </div>\n  );\n};\n\nexport default InputText;\n","import { useMutation } from \"@apollo/client\";\nimport React from \"react\";\nimport { Navigate, useNavigate } from \"react-router\";\nimport logo from \"../../assets/images/logo.png\";\nimport { LOGIN } from \"../../graphql/mutations\";\nimport Button from \"../../materials/Button/Button\";\nimport InputText from \"../../materials/InputText/InputText\";\nimport { Context } from \"../Context/Context\";\nimport { toast } from \"react-toastify\";\nimport \"./Login.scss\";\nconst Login = () => {\n  const { auth } = React.useContext(Context);\n  const navigate = useNavigate();\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n\n  const [login] = useMutation(LOGIN);\n  if (auth) return <Navigate to={-1} />;\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (email === \"\")\n      return toast.warning(\"Votre email ne doit pas être vide.\", {\n        position: \"bottom-left\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        progress: undefined,\n      });\n    if (password === \"\")\n      return toast.warning(\"Votre mot de passe ne doit pas être vide.\", {\n        position: \"bottom-left\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        progress: undefined,\n      });\n    try {\n      const response = await login({\n        variables: { email: email, password: password },\n      });\n      if (response.data.login.successful) {\n        localStorage.setItem(\"token\", response.data.login.token);\n        window.location.href = \"/\";\n      } else {\n        toast.error(response.data.login.message, {\n          position: \"bottom-left\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: false,\n          draggable: false,\n          progress: undefined,\n        });\n      }\n    } catch (err) {\n      toast.warning(\"Une erreur au niveau du serveur est survenue.\", {\n        position: \"bottom-left\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        progress: undefined,\n      });\n    }\n  };\n  return (\n    <div className=\"login__container\">\n      <div className=\"logo__container\">\n        <img\n          onClick={() => {\n            navigate(`/`);\n          }}\n          src={logo}\n          alt=\"\"\n          className=\"logo__kifekoi\"\n        />\n      </div>\n      <form className=\"login__card\" onSubmit={handleLogin}>\n        <div className={\"top__login__card\"}>\n          <h1>Connectez-vous</h1>\n          <InputText\n            placeHolder=\"Votre email...\"\n            label=\"Email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          <InputText\n            placeHolder=\"Votre mot de passe...\"\n            label=\"Mot de passe\"\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          <button className=\"forgot__password__btn\">\n            Mot de passe oublié ?\n          </button>\n        </div>\n        <div className={\"top__login__card\"}>\n          <button\n            type=\"button\"\n            className=\"new__account__btn\"\n            onClick={() => navigate(\"/signup\")}\n          >\n            Vous n'avez pas de compte ? Créez-en un.\n          </button>\n          <Button\n            type={\"submit\"}\n            style={{ width: \"100%\", padding: \"14px\" }}\n            onClick={handleLogin}\n          >\n            Se connecter\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"],"sourceRoot":""}